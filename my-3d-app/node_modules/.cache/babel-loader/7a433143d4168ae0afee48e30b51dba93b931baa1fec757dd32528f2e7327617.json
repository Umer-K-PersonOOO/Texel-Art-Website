{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sansh\\\\Desktop\\\\ECLAIR\\\\Texel-Art-Website\\\\my-3d-app\\\\src\\\\components\\\\GLBGrid.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport Scene from \"../Scene\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GLBGrid = ({\n  onSelectGLB,\n  refreshTrigger\n}) => {\n  _s();\n  const [files, setFiles] = useState([]);\n  useEffect(() => {\n    const fetchFiles = async () => {\n      try {\n        const res = await fetch(\"http://127.0.0.1:8000/joints/\");\n        const data = await res.json();\n        setFiles(data);\n      } catch (error) {\n        console.error(\"Failed to fetch joint files\", error);\n      }\n    };\n    fetchFiles();\n  }, [refreshTrigger]);\n  const renderedFiles = useMemo(() => files.map(file => {\n    console.log(\"123456\" + file.name);\n    const glbUrl = `http://127.0.0.1:8000/transform/rig?id=${file.id}&name=${file.name}`;\n    const videoUrl = `http://127.0.0.1:8000/video/${file.id}`;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => onSelectGLB(glbUrl, videoUrl),\n      className: \"rounded-xl bg-white shadow hover:shadow-lg hover:-translate-y-1 transition-transform duration-200 cursor-pointer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"aspect-square rounded-t-xl overflow-hidden bg-gray-100\",\n        children: /*#__PURE__*/_jsxDEV(Scene, {\n          url: glbUrl,\n          preview: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-2\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center text-gray-800 font-medium truncate\",\n          children: file.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this)]\n    }, file.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this);\n  }), [files, onSelectGLB]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6\",\n    children: [renderedFiles, files.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"col-span-full text-center text-gray-500\",\n      children: \"No animations found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(GLBGrid, \"23BiJ8yOwQC2wD6XGq1lqD1JxAI=\");\n_c = GLBGrid;\nexport default _c2 = /*#__PURE__*/React.memo(GLBGrid);\nvar _c, _c2;\n$RefreshReg$(_c, \"GLBGrid\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","Scene","jsxDEV","_jsxDEV","GLBGrid","onSelectGLB","refreshTrigger","_s","files","setFiles","fetchFiles","res","fetch","data","json","error","console","renderedFiles","map","file","log","name","glbUrl","id","videoUrl","onClick","className","children","url","preview","fileName","_jsxFileName","lineNumber","columnNumber","length","_c","_c2","memo","$RefreshReg$"],"sources":["C:/Users/sansh/Desktop/ECLAIR/Texel-Art-Website/my-3d-app/src/components/GLBGrid.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\r\nimport Scene from \"../Scene\";\r\n\r\ninterface JointFile {\r\n  id: number;\r\n  name: string;\r\n}\r\n\r\ninterface GLBGridProps {\r\n  onSelectGLB: (glbUrl: string, videoUrl: string) => void;\r\n  refreshTrigger: number; // increment to trigger refetch\r\n}\r\n\r\nconst GLBGrid: React.FC<GLBGridProps> = ({ onSelectGLB, refreshTrigger }) => {\r\n  const [files, setFiles] = useState<JointFile[]>([]);\r\n\r\n  useEffect(() => {\r\n    const fetchFiles = async () => {\r\n      try {\r\n        const res = await fetch(\"http://127.0.0.1:8000/joints/\");\r\n        const data = await res.json();\r\n        setFiles(data);\r\n      } catch (error) {\r\n        console.error(\"Failed to fetch joint files\", error);\r\n      }\r\n    };\r\n\r\n    fetchFiles();\r\n  }, [refreshTrigger]);\r\n\r\n  const renderedFiles = useMemo(() => (\r\n    files.map((file) => {\r\n      console.log(\"123456\" + file.name);\r\n      const glbUrl = `http://127.0.0.1:8000/transform/rig?id=${file.id}&name=${file.name}`;\r\n      const videoUrl = `http://127.0.0.1:8000/video/${file.id}`;\r\n      return (\r\n        <div\r\n          key={file.id}\r\n          onClick={() => onSelectGLB(glbUrl, videoUrl)}\r\n          className=\"rounded-xl bg-white shadow hover:shadow-lg hover:-translate-y-1 transition-transform duration-200 cursor-pointer\"\r\n        >\r\n          <div className=\"aspect-square rounded-t-xl overflow-hidden bg-gray-100\">\r\n            <Scene url={glbUrl} preview />\r\n          </div>\r\n          <div className=\"p-2\">\r\n            <p className=\"text-center text-gray-800 font-medium truncate\">\r\n              {file.name}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      );\r\n    })\r\n  ), [files, onSelectGLB]);\r\n\r\n  return (\r\n    <div className=\"p-6 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6\">\r\n      {renderedFiles}\r\n      {files.length === 0 && (\r\n        <p className=\"col-span-full text-center text-gray-500\">\r\n          No animations found.\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(GLBGrid);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}