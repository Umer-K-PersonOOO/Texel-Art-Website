{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sansh\\\\Desktop\\\\ECLAIR\\\\Texel-Art-Website\\\\my-3d-app\\\\src\\\\Scene.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { Html, OrbitControls, Stats, useAnimations, useProgress } from \"@react-three/drei\";\nimport { Canvas, useLoader } from \"@react-three/fiber\";\nimport React, { Suspense, useEffect, useRef } from \"react\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Loader() {\n  _s();\n  const {\n    progress\n  } = useProgress();\n  return /*#__PURE__*/_jsxDEV(Html, {\n    center: true,\n    children: [progress.toFixed(0), \" % loaded\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 10\n  }, this);\n}\n_s(Loader, \"3FwufyhGu9P0YIm6q04fcVbtW/c=\", false, function () {\n  return [useProgress];\n});\n_c = Loader;\nfunction ModelWithAnimation({\n  url\n}) {\n  _s2();\n  const gltf = useLoader(GLTFLoader, url);\n  const modelRef = useRef(null);\n  const {\n    animations\n  } = gltf;\n  const {\n    actions\n  } = useAnimations(animations, modelRef);\n  useEffect(() => {\n    if (actions && animations.length > 0) {\n      const actionName = animations[0].name;\n      const action = actions[actionName];\n      if (action) {\n        action.reset().play();\n      }\n    } else {\n      console.warn(\"No animations found for:\", url);\n    }\n    return () => {\n      // Cleanup animations and materials safely\n      if (actions) {\n        Object.values(actions).forEach(action => {\n          if (action) action.stop();\n        });\n      }\n      gltf.scene.traverse(child => {\n        if (child.isMesh) {\n          child.geometry.dispose();\n          if (Array.isArray(child.material)) {\n            child.material.forEach(m => m.dispose());\n          } else if (child.material) {\n            child.material.dispose();\n          }\n        }\n      });\n    };\n  }, [actions, animations, gltf.scene, url]);\n  return /*#__PURE__*/_jsxDEV(\"primitive\", {\n    object: gltf.scene,\n    ref: modelRef,\n    position: [0, 0, 0]\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 10\n  }, this);\n}\n_s2(ModelWithAnimation, \"BKltOZN7f56pzVvVk14+lwJVo/I=\", false, function () {\n  return [useLoader, useAnimations];\n});\n_c2 = ModelWithAnimation;\nconst Scene = ({\n  url,\n  preview = false\n}) => {\n  return /*#__PURE__*/_jsxDEV(Canvas, {\n    camera: {\n      position: [1.3, 1.5, 1.9]\n    },\n    shadows: true,\n    style: {\n      height: preview ? 150 : \"100%\",\n      width: \"100%\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Suspense, {\n      fallback: /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 27\n      }, this),\n      children: [/*#__PURE__*/_jsxDEV(\"directionalLight\", {\n        position: [-1.3, 6.0, 4.4],\n        castShadow: true,\n        intensity: Math.PI\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ambientLight\", {\n        intensity: 0.4\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ModelWithAnimation, {\n        url: url\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), !preview && /*#__PURE__*/_jsxDEV(OrbitControls, {\n        target: [0, 1, 0]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 22\n      }, this), !preview && /*#__PURE__*/_jsxDEV(\"axesHelper\", {\n        args: [5]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 22\n      }, this), !preview && /*#__PURE__*/_jsxDEV(Stats, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 22\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n_c3 = Scene;\nexport default Scene;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Loader\");\n$RefreshReg$(_c2, \"ModelWithAnimation\");\n$RefreshReg$(_c3, \"Scene\");","map":{"version":3,"names":["Html","OrbitControls","Stats","useAnimations","useProgress","Canvas","useLoader","React","Suspense","useEffect","useRef","GLTFLoader","jsxDEV","_jsxDEV","Loader","_s","progress","center","children","toFixed","fileName","_jsxFileName","lineNumber","columnNumber","_c","ModelWithAnimation","url","_s2","gltf","modelRef","animations","actions","length","actionName","name","action","reset","play","console","warn","Object","values","forEach","stop","scene","traverse","child","isMesh","geometry","dispose","Array","isArray","material","m","object","ref","position","_c2","Scene","preview","camera","shadows","style","height","width","fallback","castShadow","intensity","Math","PI","target","args","_c3","$RefreshReg$"],"sources":["C:/Users/sansh/Desktop/ECLAIR/Texel-Art-Website/my-3d-app/src/Scene.tsx"],"sourcesContent":["import {\r\n  Html,\r\n  OrbitControls,\r\n  Stats,\r\n  useAnimations,\r\n  useProgress,\r\n} from \"@react-three/drei\";\r\nimport { Canvas, useLoader } from \"@react-three/fiber\";\r\nimport React, { Suspense, useEffect, useRef } from \"react\";\r\nimport * as THREE from \"three\";\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\r\n\r\nfunction Loader() {\r\n  const { progress } = useProgress();\r\n  return <Html center>{progress.toFixed(0)} % loaded</Html>;\r\n}\r\n\r\ninterface ModelWithAnimationProps {\r\n  url: string;\r\n}\r\n\r\nfunction ModelWithAnimation({ url }: ModelWithAnimationProps) {\r\n  const gltf = useLoader(GLTFLoader, url);\r\n  const modelRef = useRef<THREE.Group>(null);\r\n  const { animations } = gltf;\r\n  const { actions } = useAnimations(animations, modelRef);\r\n\r\n  useEffect(() => {\r\n    if (actions && animations.length > 0) {\r\n      const actionName = animations[0].name;\r\n      const action = actions[actionName];\r\n      if (action) {\r\n        action.reset().play();\r\n      }\r\n    } else {\r\n      console.warn(\"No animations found for:\", url);\r\n    }\r\n\r\n    return () => {\r\n      // Cleanup animations and materials safely\r\n      if (actions) {\r\n        Object.values(actions).forEach((action) => {\r\n          if (action) action.stop();\r\n        });\r\n      }\r\n\r\n      gltf.scene.traverse((child: any) => {\r\n        if (child.isMesh) {\r\n          child.geometry.dispose();\r\n          if (Array.isArray(child.material)) {\r\n            child.material.forEach((m: { dispose: () => any; }) => m.dispose());\r\n          } else if (child.material) {\r\n            child.material.dispose();\r\n          }\r\n        }\r\n      });\r\n    };\r\n  }, [actions, animations, gltf.scene, url]);\r\n\r\n  return <primitive object={gltf.scene} ref={modelRef} position={[0, 0, 0]} />;\r\n}\r\n\r\ninterface SceneProps {\r\n  url: string;\r\n  preview?: boolean;\r\n}\r\n\r\nconst Scene: React.FC<SceneProps> = ({ url, preview = false }) => {\r\n  return (\r\n    <Canvas\r\n      camera={{ position: [1.3, 1.5, 1.9] }}\r\n      shadows\r\n      style={{\r\n        height: preview ? 150 : \"100%\",\r\n        width: \"100%\",\r\n      }}\r\n    >\r\n      <Suspense fallback={<Loader />}>\r\n        <directionalLight\r\n          position={[-1.3, 6.0, 4.4]}\r\n          castShadow\r\n          intensity={Math.PI}\r\n        />\r\n        <ambientLight intensity={0.4} />\r\n        <ModelWithAnimation url={url} />\r\n        {!preview && <OrbitControls target={[0, 1, 0]} />}\r\n        {!preview && <axesHelper args={[5]} />}\r\n        {!preview && <Stats />}\r\n      </Suspense>\r\n    </Canvas>\r\n  );\r\n};\r\n\r\nexport default Scene;\r\n"],"mappings":";;;AAAA,SACEA,IAAI,EACJC,aAAa,EACbC,KAAK,EACLC,aAAa,EACbC,WAAW,QACN,mBAAmB;AAC1B,SAASC,MAAM,EAAEC,SAAS,QAAQ,oBAAoB;AACtD,OAAOC,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAE1D,SAASC,UAAU,QAAQ,uCAAuC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnE,SAASC,MAAMA,CAAA,EAAG;EAAAC,EAAA;EAChB,MAAM;IAAEC;EAAS,CAAC,GAAGZ,WAAW,CAAC,CAAC;EAClC,oBAAOS,OAAA,CAACb,IAAI;IAACiB,MAAM;IAAAC,QAAA,GAAEF,QAAQ,CAACG,OAAO,CAAC,CAAC,CAAC,EAAC,WAAS;EAAA;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC;AAC3D;AAACR,EAAA,CAHQD,MAAM;EAAA,QACQV,WAAW;AAAA;AAAAoB,EAAA,GADzBV,MAAM;AASf,SAASW,kBAAkBA,CAAC;EAAEC;AAA6B,CAAC,EAAE;EAAAC,GAAA;EAC5D,MAAMC,IAAI,GAAGtB,SAAS,CAACK,UAAU,EAAEe,GAAG,CAAC;EACvC,MAAMG,QAAQ,GAAGnB,MAAM,CAAc,IAAI,CAAC;EAC1C,MAAM;IAAEoB;EAAW,CAAC,GAAGF,IAAI;EAC3B,MAAM;IAAEG;EAAQ,CAAC,GAAG5B,aAAa,CAAC2B,UAAU,EAAED,QAAQ,CAAC;EAEvDpB,SAAS,CAAC,MAAM;IACd,IAAIsB,OAAO,IAAID,UAAU,CAACE,MAAM,GAAG,CAAC,EAAE;MACpC,MAAMC,UAAU,GAAGH,UAAU,CAAC,CAAC,CAAC,CAACI,IAAI;MACrC,MAAMC,MAAM,GAAGJ,OAAO,CAACE,UAAU,CAAC;MAClC,IAAIE,MAAM,EAAE;QACVA,MAAM,CAACC,KAAK,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;MACvB;IACF,CAAC,MAAM;MACLC,OAAO,CAACC,IAAI,CAAC,0BAA0B,EAAEb,GAAG,CAAC;IAC/C;IAEA,OAAO,MAAM;MACX;MACA,IAAIK,OAAO,EAAE;QACXS,MAAM,CAACC,MAAM,CAACV,OAAO,CAAC,CAACW,OAAO,CAAEP,MAAM,IAAK;UACzC,IAAIA,MAAM,EAAEA,MAAM,CAACQ,IAAI,CAAC,CAAC;QAC3B,CAAC,CAAC;MACJ;MAEAf,IAAI,CAACgB,KAAK,CAACC,QAAQ,CAAEC,KAAU,IAAK;QAClC,IAAIA,KAAK,CAACC,MAAM,EAAE;UAChBD,KAAK,CAACE,QAAQ,CAACC,OAAO,CAAC,CAAC;UACxB,IAAIC,KAAK,CAACC,OAAO,CAACL,KAAK,CAACM,QAAQ,CAAC,EAAE;YACjCN,KAAK,CAACM,QAAQ,CAACV,OAAO,CAAEW,CAA0B,IAAKA,CAAC,CAACJ,OAAO,CAAC,CAAC,CAAC;UACrE,CAAC,MAAM,IAAIH,KAAK,CAACM,QAAQ,EAAE;YACzBN,KAAK,CAACM,QAAQ,CAACH,OAAO,CAAC,CAAC;UAC1B;QACF;MACF,CAAC,CAAC;IACJ,CAAC;EACH,CAAC,EAAE,CAAClB,OAAO,EAAED,UAAU,EAAEF,IAAI,CAACgB,KAAK,EAAElB,GAAG,CAAC,CAAC;EAE1C,oBAAOb,OAAA;IAAWyC,MAAM,EAAE1B,IAAI,CAACgB,KAAM;IAACW,GAAG,EAAE1B,QAAS;IAAC2B,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;EAAE;IAAApC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AAC9E;AAACI,GAAA,CAvCQF,kBAAkB;EAAA,QACZnB,SAAS,EAGFH,aAAa;AAAA;AAAAsD,GAAA,GAJ1BhC,kBAAkB;AA8C3B,MAAMiC,KAA2B,GAAGA,CAAC;EAAEhC,GAAG;EAAEiC,OAAO,GAAG;AAAM,CAAC,KAAK;EAChE,oBACE9C,OAAA,CAACR,MAAM;IACLuD,MAAM,EAAE;MAAEJ,QAAQ,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG;IAAE,CAAE;IACtCK,OAAO;IACPC,KAAK,EAAE;MACLC,MAAM,EAAEJ,OAAO,GAAG,GAAG,GAAG,MAAM;MAC9BK,KAAK,EAAE;IACT,CAAE;IAAA9C,QAAA,eAEFL,OAAA,CAACL,QAAQ;MAACyD,QAAQ,eAAEpD,OAAA,CAACC,MAAM;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAE;MAAAL,QAAA,gBAC7BL,OAAA;QACE2C,QAAQ,EAAE,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAE;QAC3BU,UAAU;QACVC,SAAS,EAAEC,IAAI,CAACC;MAAG;QAAAjD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpB,CAAC,eACFV,OAAA;QAAcsD,SAAS,EAAE;MAAI;QAAA/C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAChCV,OAAA,CAACY,kBAAkB;QAACC,GAAG,EAAEA;MAAI;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EAC/B,CAACoC,OAAO,iBAAI9C,OAAA,CAACZ,aAAa;QAACqE,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;MAAE;QAAAlD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EAChD,CAACoC,OAAO,iBAAI9C,OAAA;QAAY0D,IAAI,EAAE,CAAC,CAAC;MAAE;QAAAnD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EACrC,CAACoC,OAAO,iBAAI9C,OAAA,CAACX,KAAK;QAAAkB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACd;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEb,CAAC;AAACiD,GAAA,GAxBId,KAA2B;AA0BjC,eAAeA,KAAK;AAAC,IAAAlC,EAAA,EAAAiC,GAAA,EAAAe,GAAA;AAAAC,YAAA,CAAAjD,EAAA;AAAAiD,YAAA,CAAAhB,GAAA;AAAAgB,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}