{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sansh\\\\Desktop\\\\ECLAIR\\\\Texel-Art-Website\\\\my-3d-app\\\\src\\\\Scene.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { Html, OrbitControls, Stats, useAnimations, useProgress } from \"@react-three/drei\";\nimport { Canvas, useLoader } from \"@react-three/fiber\";\nimport React, { Suspense, useEffect, useRef } from \"react\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Loader() {\n  _s();\n  const {\n    progress\n  } = useProgress();\n  return /*#__PURE__*/_jsxDEV(Html, {\n    center: true,\n    children: [progress.toFixed(0), \" % loaded\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 10\n  }, this);\n}\n_s(Loader, \"3FwufyhGu9P0YIm6q04fcVbtW/c=\", false, function () {\n  return [useProgress];\n});\n_c = Loader;\nfunction ModelWithAnimation({\n  url,\n  onReady\n}) {\n  _s2();\n  const gltf = useLoader(GLTFLoader, url);\n  const modelRef = useRef(null);\n  const {\n    animations\n  } = gltf;\n  const {\n    actions\n  } = useAnimations(animations, modelRef);\n\n  // console.log(\"Loaded GLB from:\", url);\n  // console.log(\"Animations:\", animations);\n  // console.log(\"Model Scene:\", gltf.scene);\n\n  useEffect(() => {\n    if (actions && animations.length > 0) {\n      var _actions$actionName;\n      const actionName = animations[0].name;\n      (_actions$actionName = actions[actionName]) === null || _actions$actionName === void 0 ? void 0 : _actions$actionName.reset().play();\n\n      // Call the onReady callback AFTER starting animation\n      onReady === null || onReady === void 0 ? void 0 : onReady();\n    } else {\n      console.warn(\"No animations found for:\", url);\n    }\n  }, [actions, animations, onReady]);\n  return /*#__PURE__*/_jsxDEV(\"primitive\", {\n    object: gltf.scene,\n    ref: modelRef,\n    position: [0, 0, 0]\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 10\n  }, this);\n}\n_s2(ModelWithAnimation, \"BKltOZN7f56pzVvVk14+lwJVo/I=\", false, function () {\n  return [useLoader, useAnimations];\n});\n_c2 = ModelWithAnimation;\nconst Scene = ({\n  url,\n  onReady\n}) => {\n  return /*#__PURE__*/_jsxDEV(Canvas, {\n    camera: {\n      position: [1.3, 1.5, 1.9]\n    },\n    shadows: true,\n    children: /*#__PURE__*/_jsxDEV(Suspense, {\n      fallback: /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 27\n      }, this),\n      children: [/*#__PURE__*/_jsxDEV(\"directionalLight\", {\n        position: [-1.3, 6.0, 4.4],\n        castShadow: true,\n        intensity: Math.PI\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ModelWithAnimation, {\n        url: url,\n        onReady: onReady\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(OrbitControls, {\n        target: [0, 1, 0]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"axesHelper\", {\n        args: [5]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Stats, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_c3 = Scene;\nexport default Scene;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Loader\");\n$RefreshReg$(_c2, \"ModelWithAnimation\");\n$RefreshReg$(_c3, \"Scene\");","map":{"version":3,"names":["Html","OrbitControls","Stats","useAnimations","useProgress","Canvas","useLoader","React","Suspense","useEffect","useRef","GLTFLoader","jsxDEV","_jsxDEV","Loader","_s","progress","center","children","toFixed","fileName","_jsxFileName","lineNumber","columnNumber","_c","ModelWithAnimation","url","onReady","_s2","gltf","modelRef","animations","actions","length","_actions$actionName","actionName","name","reset","play","console","warn","object","scene","ref","position","_c2","Scene","camera","shadows","fallback","castShadow","intensity","Math","PI","target","args","_c3","$RefreshReg$"],"sources":["C:/Users/sansh/Desktop/ECLAIR/Texel-Art-Website/my-3d-app/src/Scene.tsx"],"sourcesContent":["import {\r\n  Html,\r\n  OrbitControls,\r\n  Stats,\r\n  useAnimations,\r\n  useProgress,\r\n} from \"@react-three/drei\";\r\nimport { Canvas, useLoader } from \"@react-three/fiber\";\r\nimport React, { Suspense, useEffect, useRef } from \"react\";\r\nimport * as THREE from \"three\";\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\r\n\r\nfunction Loader() {\r\n  const { progress } = useProgress();\r\n  return <Html center>{progress.toFixed(0)} % loaded</Html>;\r\n}\r\n\r\ninterface ModelWithAnimationProps {\r\n  url: string;\r\n  onReady?: () => void;\r\n}\r\n\r\nfunction ModelWithAnimation({ url, onReady  }: ModelWithAnimationProps) {\r\n  const gltf = useLoader(GLTFLoader, url);\r\n  const modelRef = useRef<THREE.Group>(null);\r\n  const { animations } = gltf;\r\n  const { actions } = useAnimations(animations, modelRef);\r\n\r\n  // console.log(\"Loaded GLB from:\", url);\r\n  // console.log(\"Animations:\", animations);\r\n  // console.log(\"Model Scene:\", gltf.scene);\r\n\r\n  useEffect(() => {\r\n    if (actions && animations.length > 0) {\r\n      const actionName = animations[0].name;\r\n      actions[actionName]?.reset().play();\r\n      \r\n      // Call the onReady callback AFTER starting animation\r\n      onReady?.();\r\n    } else {\r\n      console.warn(\"No animations found for:\", url);\r\n    }\r\n  }, [actions, animations, onReady]);\r\n\r\n  return <primitive object={gltf.scene} ref={modelRef} position={[0, 0, 0]} />;\r\n}\r\n\r\n\r\ninterface SceneProps {\r\n  url: string;\r\n  onReady?: () => void;\r\n}\r\n\r\nconst Scene: React.FC<SceneProps> = ({ url, onReady }) => {\r\n  return (\r\n    <Canvas camera={{ position: [1.3, 1.5, 1.9] }} shadows>\r\n      <Suspense fallback={<Loader />}>\r\n        <directionalLight\r\n          position={[-1.3, 6.0, 4.4]}\r\n          castShadow\r\n          intensity={Math.PI}\r\n        />\r\n        <ModelWithAnimation url={url} onReady={onReady} />\r\n        <OrbitControls target={[0, 1, 0]} />\r\n        <axesHelper args={[5]} />\r\n        <Stats />\r\n      </Suspense>\r\n    </Canvas>\r\n  );\r\n};\r\n\r\n\r\nexport default Scene;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}