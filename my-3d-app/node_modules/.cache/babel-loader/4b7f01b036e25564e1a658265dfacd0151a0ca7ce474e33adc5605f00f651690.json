{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sansh\\\\Desktop\\\\ECLAIR\\\\Texel-Art-Website\\\\my-3d-app\\\\src\\\\Scene.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { Html, OrbitControls, Stats, useAnimations, useProgress } from \"@react-three/drei\";\nimport { Canvas, useLoader } from \"@react-three/fiber\";\nimport React, { Suspense, useEffect, useRef } from \"react\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Loader() {\n  _s();\n  const {\n    progress\n  } = useProgress();\n  return /*#__PURE__*/_jsxDEV(Html, {\n    center: true,\n    children: [progress.toFixed(0), \" % loaded\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 10\n  }, this);\n}\n_s(Loader, \"3FwufyhGu9P0YIm6q04fcVbtW/c=\", false, function () {\n  return [useProgress];\n});\n_c = Loader;\nfunction ModelWithAnimation({\n  url\n}) {\n  _s2();\n  const gltf = useLoader(GLTFLoader, url);\n  const modelRef = useRef(null);\n  const {\n    animations\n  } = gltf;\n  const {\n    actions\n  } = useAnimations(animations, modelRef);\n  console.log(\"Loaded GLB from:\", url);\n  console.log(\"Animations:\", animations);\n  console.log(\"Model Scene:\", gltf.scene);\n  useEffect(() => {\n    if (actions && animations.length > 0) {\n      var _actions$actionName;\n      const actionName = animations[0].name;\n      console.log(\"Playing animation:\", actionName);\n      (_actions$actionName = actions[actionName]) === null || _actions$actionName === void 0 ? void 0 : _actions$actionName.reset().play();\n    } else {\n      console.warn(\"No animations found for:\", url);\n    }\n    return () => {\n      // Cleanup: stop animations & dispose geometry/material\n      Object.values(actions || {}).forEach(action => action.stop());\n      gltf.scene.traverse(child => {\n        if (child.isMesh) {\n          child.geometry.dispose();\n          if (Array.isArray(child.material)) {\n            child.material.forEach(m => m.dispose());\n          } else {\n            child.material.dispose();\n          }\n        }\n      });\n    };\n  }, [actions, animations, gltf.scene]);\n  return /*#__PURE__*/_jsxDEV(\"primitive\", {\n    object: gltf.scene,\n    ref: modelRef,\n    position: [0, 0, 0]\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 10\n  }, this);\n}\n_s2(ModelWithAnimation, \"BKltOZN7f56pzVvVk14+lwJVo/I=\", false, function () {\n  return [useLoader, useAnimations];\n});\n_c2 = ModelWithAnimation;\nconst Scene = ({\n  url\n}) => {\n  return /*#__PURE__*/_jsxDEV(Canvas, {\n    camera: {\n      position: [1.3, 1.5, 1.9]\n    },\n    shadows: true,\n    style: {\n      height: preview ? 150 : \"100%\",\n      width: \"100%\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Suspense, {\n      fallback: /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 27\n      }, this),\n      children: [/*#__PURE__*/_jsxDEV(\"directionalLight\", {\n        position: [-1.3, 6.0, 4.4],\n        castShadow: true,\n        intensity: Math.PI\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ambientLight\", {\n        intensity: 0.4\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ModelWithAnimation, {\n        url: url\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), !preview && /*#__PURE__*/_jsxDEV(OrbitControls, {\n        target: [0, 1, 0]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 22\n      }, this), !preview && /*#__PURE__*/_jsxDEV(\"axesHelper\", {\n        args: [5]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 22\n      }, this), !preview && /*#__PURE__*/_jsxDEV(Stats, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 22\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n_c3 = Scene;\nexport default Scene;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Loader\");\n$RefreshReg$(_c2, \"ModelWithAnimation\");\n$RefreshReg$(_c3, \"Scene\");","map":{"version":3,"names":["Html","OrbitControls","Stats","useAnimations","useProgress","Canvas","useLoader","React","Suspense","useEffect","useRef","GLTFLoader","jsxDEV","_jsxDEV","Loader","_s","progress","center","children","toFixed","fileName","_jsxFileName","lineNumber","columnNumber","_c","ModelWithAnimation","url","_s2","gltf","modelRef","animations","actions","console","log","scene","length","_actions$actionName","actionName","name","reset","play","warn","Object","values","forEach","action","stop","traverse","child","isMesh","geometry","dispose","Array","isArray","material","m","object","ref","position","_c2","Scene","camera","shadows","style","height","preview","width","fallback","castShadow","intensity","Math","PI","target","args","_c3","$RefreshReg$"],"sources":["C:/Users/sansh/Desktop/ECLAIR/Texel-Art-Website/my-3d-app/src/Scene.tsx"],"sourcesContent":["import {\r\n  Html,\r\n  OrbitControls,\r\n  Stats,\r\n  useAnimations,\r\n  useProgress,\r\n} from \"@react-three/drei\";\r\nimport { Canvas, useLoader } from \"@react-three/fiber\";\r\nimport React, { Suspense, useEffect, useRef } from \"react\";\r\nimport * as THREE from \"three\";\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\r\n\r\nfunction Loader() {\r\n  const { progress } = useProgress();\r\n  return <Html center>{progress.toFixed(0)} % loaded</Html>;\r\n}\r\n\r\ninterface ModelWithAnimationProps {\r\n  url: string;\r\n}\r\n\r\nfunction ModelWithAnimation({ url }: ModelWithAnimationProps) {\r\n  const gltf = useLoader(GLTFLoader, url);\r\n  const modelRef = useRef<THREE.Group>(null);\r\n  const { animations } = gltf;\r\n  const { actions } = useAnimations(animations, modelRef);\r\n\r\n  console.log(\"Loaded GLB from:\", url);\r\n  console.log(\"Animations:\", animations);\r\n  console.log(\"Model Scene:\", gltf.scene);\r\n\r\n  useEffect(() => {\r\n    if (actions && animations.length > 0) {\r\n      const actionName = animations[0].name;\r\n      console.log(\"Playing animation:\", actionName);\r\n      actions[actionName]?.reset().play();\r\n    } else {\r\n      console.warn(\"No animations found for:\", url);\r\n    }\r\n\r\n    return () => {\r\n      // Cleanup: stop animations & dispose geometry/material\r\n      Object.values(actions || {}).forEach((action) => action.stop());\r\n      gltf.scene.traverse((child: any) => {\r\n        if (child.isMesh) {\r\n          child.geometry.dispose();\r\n          if (Array.isArray(child.material)) {\r\n            child.material.forEach((m) => m.dispose());\r\n          } else {\r\n            child.material.dispose();\r\n          }\r\n        }\r\n      });\r\n    };\r\n\r\n  }, [actions, animations, gltf.scene]);\r\n\r\n  return <primitive object={gltf.scene} ref={modelRef} position={[0, 0, 0]} />;\r\n}\r\n\r\n\r\ninterface SceneProps {\r\n  url: string;\r\n  preview?: boolean;\r\n}\r\n\r\nconst Scene: React.FC<SceneProps> = ({ url }) => {\r\n  return (\r\n    <Canvas camera={{ position: [1.3, 1.5, 1.9] }} shadows style={{height: preview ? 150 : \"100%\",width: \"100%\",}}>  \r\n      <Suspense fallback={<Loader />}>\r\n        <directionalLight\r\n          position={[-1.3, 6.0, 4.4]}\r\n          castShadow\r\n          intensity={Math.PI}\r\n        />\r\n        <ambientLight intensity={0.4} />\r\n        <ModelWithAnimation url={url} />\r\n        {!preview && <OrbitControls target={[0, 1, 0]} />}\r\n        {!preview && <axesHelper args={[5]} />}\r\n        {!preview && <Stats />}\r\n      </Suspense>\r\n    </Canvas>\r\n  );\r\n};\r\n\r\nexport default Scene;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}